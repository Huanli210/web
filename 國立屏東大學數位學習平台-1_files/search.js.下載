function htmlencode(s){
  var div = document.createElement('div');
  div.appendChild(document.createTextNode(s));
  return div.innerHTML;
}

function htmldecode(s){
  var div = document.createElement('div');
  div.innerHTML = s;
  return div.innerText || div.textContent;
}

function adv_search() {
    $('<form action="'+appRoot + '/mooc/explorer.php" method="post"><input type="hidden" name="keyword" value="'+ htmlencode($('#bar-keyword').val()) +'"></form>').appendTo('body').submit();
}

function video_search() {
    $('<form action="'+appRoot + '/mooc/explorer_video.php" method="post"><input type="hidden" name="keyword" value="'+ htmlencode($('#bar-keyword-video').val()) +'"></form>').appendTo('body').submit();
}
// 輸入搜尋關鍵字後，按 ENTER 即可 submit 資料出去
$(function () {
    $('#bar-keyword').keydown(function(e){
        if(e.keyCode == 13){
            adv_search();
            return false;
        }
    });
});

//banner最新消息
$(function(){
    i=0; //換圖案用參數
    n=1; //換圖案用參數
    
    //滑出動畫
    $("#newsButton").click(function () {
        // Set the effect type
        var effect = 'slide';
        // Set the options for the effect type chosen
        //var options = { direction: $('.mySelect').val() };
        var options = { direction: 'right'};
        // Set the duration (default: 400 milliseconds)
        var duration = 500;
        $('#news_show_content').toggle(effect, options, duration);
        
        
        //arrow換圖案
        img_array= new Array('../theme/default/learn_mooc/banner_news_0.png','../theme/default/learn_mooc/banner_news_1.png');
        i++;
        if(i%2 === 0) {
            n=0;
        }else {
            n=1;
        }  
        
    }).toggle(
            function (){
                //show 展開
                $("#BottomImg").attr('src', img_array[n]);
                $("#news_show_right").css("z-index","1");
            }, 
            function(){
                //hide 收合
                $("#BottomImg").attr('src', img_array[n]);
                setTimeout(function(){
                    $("#news_show_right").css("z-index","0");
                }, 500);
                
            }
        );
});