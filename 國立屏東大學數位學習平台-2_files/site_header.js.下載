// 多語系
/*
$('#lang').change(function() {
    var url = appRoot + '/mooc/index.php?lang=' + $(this).val();
    location.href = url;
});
*/

// 取得 URL 上的參數
function getURLParameter(name) {
  return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null
}

// 物件轉陣列
if (!Array.prototype.forEach)
{
  Array.prototype.forEach = function(fun /*, thisp*/)
  {
    var len = this.length;
    if (typeof fun != "function")
      throw new TypeError();

    var thisp = arguments[1];
    for (var i = 0; i < len; i++)
    {
      if (i in this)
        fun.call(thisp, this[i], i, this);
    }
  };
}

if (!Object.keys) {
  Object.keys = function(obj) {
    var keys = [];

    for (var i in obj) {
      if (obj.hasOwnProperty(i)) {
        keys.push(i);
      }
    }

    return keys;
  };
}

function json2array(json){
    var result = [];
    var keys = Object.keys(json);
    keys.forEach(function(key){
        result.push(json[key]);
    });
    return result;
}

// 首頁 點選平台操作手冊，前往該版列表
$(".nav").on("click", ".operationManual", function(event){

  $("form[name='operation_manual_list']")
    .prop('action', appRoot + '/forum/co_operation_manual_list.php');

  //fancybox 固定
  $.fancybox.open("#operManualFrame",{
      'titlePosition': 'inline',
      'transitionIn': 'none',
      'transitionOut': 'none',
      'closeBtn': true,
      helpers : {
          overlay : {
              locked : false
          }
      }
  });

  $("form[name='operation_manual_list']").submit();
});
